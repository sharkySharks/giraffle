<div class="container-fluid" id="form-entry">
    <div>
        <h1>Put your name in the raffle.
            <br/>
            <small> {{ vm.title }}</small>
        </h1>
        <form
            class="form-inline"
            name="entry"
            novalidate>
            <div
                class="form-group"
                ng-class="{ 'has-error': entry.firstName.$touched && entry.firstName.$invalid}">
                <label class="sr-only" for="firstName">
                    First Name
                </label>
                <input
                    class="form-control input-lg"
                    id="firstName"
                    name="firstName"
                    ng-model="vm.entry.firstName"
                    ng-required="true"
                    placeholder="First Name"
                    type="text" />
            </div>
            <div
                class="form-group"
                ng-class="{ 'has-error': entry.lastName.$touched && entry.lastName.$invalid}">
                <label for="lastName" class="sr-only">
                    Last Name
                </label>
                <input
                    class="form-control input-lg"
                    id="lastName"
                    name="lastName"
                    ng-model="vm.entry.lastName"
                    ng-required="true"
                    placeholder="Last Name"
                    type="text" />
            </div>
            <div
                class="form-group"
                ng-class="{ 'has-error': entry.phoneNumber.$touched && entry.phoneNumber.$invalid}">
                <label for="phoneNumber" class="sr-only">
                    Phone Number
                </label>
                <input
                    class="form-control input-lg"
                    id="phoneNumber"
                    name="phoneNumber"
                    ng-model="vm.entry.phoneNumber"
                    ng-required="true"
                    placeholder="Phone Number"
                    type="text" />
            </div>
            <br/>
            <div class="help-block form-group" ng-messages="entry.$error">
                <p ng-message="required" ng-if="entry.firstName.$touched && entry.firstName.$invalid">
                    Missing first name field!
                </p>
                <p ng-message="required" ng-if="entry.lastName.$touched && entry.lastName.$invalid">
                    Missing last name field!
                </p>
                <p ng-message="required" ng-if="entry.phoneNumber.$touched && entry.phoneNumber.$invalid">
                    Missing phone number!
                </p>
            </div>
            <div class="submit">
                <button
                    class="btn btn-primary btn-lg"
                    ng-click="vm.submit()"
                    ng-disabled="entry.$invalid"
                    type="submit">
                    Submit
                </button>
            </div>
        </form>
    </div>
    <div>
        <h2>Close Raffle and Select Winner(s)</h2>
        <div class="submit" ng-if="vm.isOpen">
            <button
                class="btn btn-danger btn-md"
                confirm-click="Are you sure you want to close the raffle?"
                ng-click="vm.closeRaffle()"
                type="submit">
                Close Raffle
            </button>
        </div>
        <div class="submit" ng-if="!vm.isOpen">
            <button
                class="btn btn-warning btn-md"
                confirm-click="Are you sure you want to re-open the raffle?"
                ng-click="vm.openRaffle()"
                type="submit">
                Reopen Raffle
            </button>

        </div>
    </div>
</div>
